{% extends 'admin/admin.html' %}

{% block header %}
<li><a href="#">Donaciones</a></li>
<li><span>Lista donaciones</span></li>
{% endblock %}

{% block contenido %}
<!-- Progress Table start -->
<div class="col-12 mt-5">
        {% if 'regt' in request.GET %}
        <div class="alert alert-danger alert-dismissible">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong>¡Exitoso! </strong>Tipo donación registrada
        </div>
        {% endif %}
        {% if 'register' in request.GET %}
        <div class="alert alert-danger alert-dismissible">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong>¡Exitoso! </strong>Donación registrada
        </div>
        {% endif %}
        {% if 'regd' in request.GET %}
        <div class="alert alert-danger alert-dismissible">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong>¡Exitoso! </strong>Se elimino el registro
        </div>
        {% endif %}
        {% if 'rega' in request.GET %}
        <div class="alert alert-danger alert-dismissible">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong>¡Exitoso! </strong>Se actualizo el registro
        </div>
        {% endif %}
    <div class="card">
        <div class="card-body">      
            <div style="margin-bottom: 30px">                     
                <a href="{% url 'Admin:donacion_create' %}">                             
                    <button type="submit" class="btn btn-danger float-right" style="margin: 1px">Nueva Donacion</button>
                </a>
                <a href="{% url 'Admin:tipo_donacion_create' %}">                             
                    <button type="submit" class="btn btn-success float-right" style="margin: 1px">Nuevo Tipo Donación</button>
                </a> 
                <h4 class="header-title">Datos de las donaciones</h4>
            </div>      
            <div class="single-table">
                <div class="table-responsive">
                    <table class="table table-hover progress-table text-center">
                        <thead class="text-uppercase">
                            <tr>
                                <th scope="col">Id</th>
                                <th scope="col">Cantidad</th>
                                <th scope="col">Donación</th>
                                <th scope="col">Persona</th>
                                <th scope="col">Creación</th>            
                                <th scope="col">Modificación</th>
                                <th scope="col">Opciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for don in object_list %}
                            <tr>
                                <th scope="row">{{ don.id }}</th>
                                <td>{{ don.monto }}</td>
                                <td>{{ don.tipo_donacion_id }}</td>
                                <td>{{ don.tipo_persona_persona_id }} </td>                                
                                <td>{{ don.creacion }} </td>    
                                <td>{{ don.modificar }} </td>    
                                <td>
                                    <ul class="d-flex justify-content-center">
                                        <li class="mr-3"><a href="{% url 'Admin:donacion_update' don.id %}" class="text-secondary"><i class="fa fa-edit"></i></a></li>
                                        <li><a href="{% url 'Admin:donacion_delete' don.id %}" class="text-danger"><i class="ti-trash"></i></a></li>
                                    </ul>
                                </td>
                            </tr>
                            {% endfor %} 
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Progress Table end -->
{% endblock %}   